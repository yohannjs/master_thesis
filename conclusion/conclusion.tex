\chapter{Conclusion}

The main objective of this thesis, as stated in section \ref{sec:objective} have been explore whether a ML model using longitudinal strain values as input can identify whether a patient has heart failure, if a patient has a heart disease and if an individual segment in a patients left ventricle is acting abnormally. The main objective is divided into two sub-objectives that decided the direction and scope of the thesis: Which type of ML model will perform best, a supervised or unsupervised learning model, and what type of longitudinal strain data will yield the best performance for the ML models, longitudinal strain curves or peak systolic strain values in combination with EF. \bigskip

A dataset of 200 patients was used to fulfill these objectives. The models that used combinations of GLS, and RLS curves from different views were a TSC model and an ANN, which were tested to classify heart failure among patients, patient diagnosis and whether individual left ventricle segments were acting abnormally. In addition to varying the dataset used with these models different forms of preprocessing was tested for both models, and different linkages were tested for the TSC model. The models that used peak systolic strain values were a PVC model, and a 11 different PVSC, they were only applied to identify heart failure among patients, and patient diagnosis. To assess the performance of the supervised models accuracy, sensitivity, specificity and DOR were used as evaluation metrics. To evaluate the unsupervised models the same metrics were used as for the supervised models, in addition to using the ARI to determine whether clustering models evaluated at a number of cluster centers greater than two could provide better performance than models evaluated at two cluster centers. When making a choice as to which model variation performed best within their respective model groups, and which model performed best overall the models were sorted in descending order of the DOR score they attained, the models which attained the highest DOR and accuracy while at the same time maintaining a balanced relationship of sensitivity and specificity were then chosen as the best performing models. For the clustering models, an additional evaluation was done with respect to ARI. If there were clustering models evaluated at a number of cluster centers greater than two that attained an ARI greater than the best performing two-cluster-center model, an attempt was made to visualize the result. Further, it was evaluated whether combining the clusters of the model with more than two centers could yield a better performance than the two-cluster-center model. \bigskip

The overall consensus from the results are that it is possible to implement an ML model that uses longitudinal strain as input, and that can predict one of the three target varables. However, there was not a single model that performed best at predicting all the target variables. The model that performed best at identifying heart failure among patients was a variation of the PVC model which used a combination of peak systolic GLS values and EF as input data, used the complete linkage and was evaluated at two cluster centers. This method attained an accuracy of 0.76, sensitivity of 0.81, specificity of 0.72 and DOR of 10.85. The model that performed best at predicting patient diagnosis was one of the PVSC models that used the KNN classifier trained on a combination of peak systolic GLS, and RLS values. It attained an accuracy of 0.93, a sensitivity of 0.95, a specificity of 0.82 and a DOR of 84.53.
In the segment indication case study, the ANN that downsampled all the individual RLS curves to the lowest sample rate of all the curves was chosen as the best model. That model attained an accuracy of 0.74, sensitivity of 0.74, specificity of 0.75 and DOR of 8.38. \bigskip

It was found that PVC, and PVSC models that used a combination of peak strain values and EF generally performed better at predicting heart failure than variations that used peak strain values alone. The ANN was not able to generalize the features of healthy patients in the patient diagnosis case study at all, and did not perform particularily well in the heart failure case study either. It is the authors opinion that this is because the architecture of the ANN is to complex to be trained solely on a dataset of 200 patients. This conclusion was drawn based on the fact that the ANN had between 40 and 80 thousand trainable depending on how many curves were used as input. This statement is also supported by the fact that the ANN performed significantly better, when applied to classify single curves on a dataset of size 3600 curves. The variations of TSC models that used no preprocessing performed better in general than the variations that used normalization, z-normalization or scaling, meaning that purely shape-based TSC is not optimal for clustering left ventricle strain curves for diagnosing patients.

\section{Future Work}

It is the authors opinion that there are two continuations of this work that show good promise. Since the scope of this thesis has been quite wide there has not been enough time to do a deep dive into any of the specific models, so both of the suggestions are deep dives into specific models since a broad comparison has now been made.

\subsection*{Development of an Artificial Neural Network for Segment Indication}

Given that the ANN performed so well at identifying the binary segment indication, it is probable that by spending more time adapting the architecture to the segment indication dataset one could achieve performances that are better than the ones attained in this piece of work. One could start with the architecture used in this assignment, and attempt to reduce the complexity of the architecture by adding pooling layers, or dropout layers. It should be tested whether using GRU cells could could improve the accuracy of the ANN as they are known to require less data than LSTM cells to generalize the difference between different segment labels. One should also experiment with variations of SGD for training the network, such as batch GD and mini-batch GD. If concentrating mainly on an ANN solution one could also test if the resulting model is capable of dealing with segment indication when multiple classes are used. 

\subsection*{Development of Peak-value Supervised classifiers}

Recall that the PVSC models performed best at predicting patient diagnosis. As mentioned in section \ref{sec:disc_pvsc}, although the PVSC did not perform best at identifying heart failure in patients, the distribution of the DOR for the PVSC models was shifted significantly higher, and centered higher than the DOR distribution of the TSC, PVC and ANN models. Since there was not time to optimize the hyperparameters of the individual classifiers in the PVSC group, this shift in distribution indicates that there is some lost potential as to what performance these models could attain. Therefore, it is probable that by spending more time on adapting the individual classifiers to the heart failure, and patient diagnosis datasets one could produce models that yield higher scores in all evaluation metrics.