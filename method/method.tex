\chapter{Method}

\section{Models} 
This is the section where we detail the specific models used. \bigskip

\subsection{Time-series clustering}

\subsection{Peak-value clustering}

\subsection{Recurrent Neural Network}

\subsection{Supervised Peak-value Classifiers}

\section{Description of The Datasets}

Since the different \acrshort{ml} models detailed in chapter REFERENCE require different types of input data the, datasets have been divided into two main categories: 
The peak-value datasets and the time-series datasets. \bigskip

\subsection{Time-series Datasets}

\begin{table*}[h]
    \centering
    \ra{1.3}
    \begin{tabular}{ rlr }
        \toprule
        Nr & Input variables   & Shape \\
        \midrule
        1  & Single \acrshort{rls} curves & $(3600,1)$ \\
        2  & \acrshort{rls} curves        & $(200,18)$ \\
        3  & \acrshort{gls} curves        & $(200,3)$  \\
        4  & Strain curves                & $(200,21)$ \\
        \bottomrule
    \end{tabular}
    \caption{Time-series datasets. The ''Shape'' parameter is indicates: (Number of objects in the dataset, Number of curves in each individual object). The curve length is not included in the shape parameter because it differs for different curves.}
    \label{tab:ts_dsets}
\end{table*}

Table \ref{tab:ts_dsets} shows the different time-series datasets that will be used. 
All the datasets except \textit{Single \acrshort{rls} curves} will be used to predict whether or not the patient is diagnosed, and whether the patient has heart failure.
Recall that the different diagnosises are described in section REFERENCE, and there occurance rate are illustrated in figure \ref{fig:hf_ind_dist}.
\textit{Single \acrshort{rls} curves} will be used to predict the segment indications shown in figure \ref{fig:segm_label_dis} and described in section REFERENCE. 
The point of classifying individual segments of a patients left ventricle is that if a single segment is found to be \textit{not normal}, 
this would also mean that the patient can be considered as \textit{not healthy}.
As mentioned in the description of table \ref{tab:ts_dsets} the ''Shape'' parameter shows how many objects each dataset has, and how many curves are associated to each object. 
Since each ultrasound examination takes ultrasound inspections from three views (four chamber, two chamber, and APLAX chamber), each patient has three views to estimate a \acrshort{gls} curve from. 
Since each \acrshort{gls} curve, also can be divided into six \acrshort{rls} curves, there is a total of 21 strain curves per patient. 
Since each patient has 18 \acrshort{rls} curves, there are $18 \times 200 = 3600$ curves that make up dataset number 1.
Both the \acrshort{rnn}, and the \acrshort{tsc} model are applied on the datasets listed in table \ref{tab:ts_dsets}, 
\bigskip

\subsection{Peak-value Datasets}

\begin{table*}[h]
    \centering
    \ra{1.3}
    \begin{tabular}{ rlr }
        \toprule
        Nr & Input variables                     & Shape \\
        \midrule                              
        1  & Single peak systolic \acrshort{rls} values                & $(3600,1)$ \\
        2  & Peak systolic \acrshort{rls} values                       & $(200,18)$ \\
        3  & Peak systolic \acrshort{gls} values                       & $(200,3)$  \\
        4  & Peak systolic strain values                               & $(200,21)$ \\
        5  & Peak systolic \acrshort{rls}, and \acrshort{ef} values    & $(200,19)$ \\
        6  & Peak systolic \acrshort{gls}, and \acrshort{ef} values    & $(200,4)$  \\
        7  & Peak systolic strain, and \acrshort{ef} values            & $(200,22)$ \\
        \bottomrule
    \end{tabular}
    \caption{Peak-value datasets. The ''Shape'' parameter is indicates: (Number of objects in the dataset, Number of dimensions of each individual object).}
    \label{tab:pv_dsets}
\end{table*}

Table \ref{tab:pv_dsets} shows the different peak-value datasets. 
All the datasets with exception of \textit{Single peak systolic \acrshort{rls} values} will be used to predict the diagnosis of patients, 
and whether the patient has heart failure. \textit{Single peak systolic \acrshort{rls} values} is also the only peak-value dataset that is not suited for clustering, 
since a minimum of two dimensions is required to cluster a point-value dataset. The reason that there are more peak-value datasets than there are time-series datasets, 
is that the peak-value version of three datasets in table \ref{tab:ts_dsets} have been combined with \acrshort{ef} to determine whether a combination of peak systolic strain,
and \acrshort{ef} can have a higher predictive power than strain alone.

